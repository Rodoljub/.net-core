@model LoginViewModel


<div class="login-page" id="login-page">

 @if (Model.EnableLocalLogin)
  {
    <partial name="_ValidationSummary" /> 
    @*<div class="card-header">
        <h2>Login</h2>
    </div>*@
    <div class="card-body">
     @if (Model.VisibleExternalProviders.Any())
      {
        <div class="login-card-social-sign">
            <p class="continue-with">Continue with:</p>
        </div>
        <div class="acoounts-card-social-button-area">
       @foreach (var provider in Model.VisibleExternalProviders)
        {

         @if (provider.DisplayName == "Facebook")
          {
           @if (!Model.isIframe)
            {
              <a class="btn login-register-fb-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                asp-controller="External"
                asp-action="Challenge"
                asp-route-scheme="@provider.AuthenticationScheme"
                asp-route-returnUrl="@Model.ReturnUrl"
              >
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    fill="#3B5998" width="24px" height="24px" viewBox="0 0 512 512" xml:space="preserve">
                  <path d="M296.296,512H200.36V256h-64v-88.225l64-0.029l-0.104-51.976C200.256,43.794,219.773,0,304.556,0h70.588v88.242h-44.115
		                                    c-33.016,0-34.604,12.328-34.604,35.342l-0.131,44.162h79.346l-9.354,88.225L296.36,256L296.296,512z" />

                </svg>

                @provider.DisplayName
              </a> 
            }
            else
            {
              <button class="btn login-register-fb-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                 id="@provider.AuthenticationScheme"
              >
                 <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    fill="#3B5998" width="24px" height="24px" viewBox="0 0 512 512" xml:space="preserve"
                 >
                    <path d="M296.296,512H200.36V256h-64v-88.225l64-0.029l-0.104-51.976C200.256,43.794,219.773,0,304.556,0h70.588v88.242h-44.115
		                                    c-33.016,0-34.604,12.328-34.604,35.342l-0.131,44.162h79.346l-9.354,88.225L296.36,256L296.296,512z" />

                 </svg>
                 @provider.DisplayName
              </button>}
            }
         @if (provider.DisplayName == "Google")
          {
           @if (!Model.isIframe)
            {
                <a class="btn login-register-g-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                    asp-controller="External"
                    asp-action="Challenge"
                    asp-route-scheme="@provider.AuthenticationScheme"
                    asp-route-returnUrl="@Model.ReturnUrl"
                >
                    <svg class="fb-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 48 48" width="24px" height="24px">
                        <defs>
                            <path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z" />
                        </defs>
                            <clipPath id="b"><use xlink:href="#a" overflow="visible" /></clipPath>
                            <path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z" />
                            <path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z" />
                            <path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z" />
                            <path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z" />
                    </svg>
                    @provider.DisplayName
                </a> 
            }
            else
            {
                <button class="btn login-register-g-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                    id="@provider.AuthenticationScheme"
                >
                    <svg class="fb-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 48 48" width="24px" height="24px">
                        <defs>
                            <path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z" />
                        </defs>
                            <clipPath id="b"><use xlink:href="#a" overflow="visible" /></clipPath>
                            <path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z" />
                            <path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z" />
                            <path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z" />
                            <path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z" />
                    </svg>
                    @provider.DisplayName
                </button>                   
            }
          }
        }
                        </div> } @*<div class="card-body" >*@
                    <div id="or">OR</div>
                    <form asp-route="Login">
                        <input type="hidden" asp-for="ReturnUrl" />

                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <label class="mdl-textfield__label" id="sample3" asp-for="Username">Email</label>
                            <input id="email" type="email" class="mdl-textfield__input" for="sample3" asp-for="Username">
                            <span class="mdl-textfield__error">Input is not a valid email</span>
                            <span class="textfield-error" asp-validation-for="Username" data-valmsg-replace="true"></span>
                            <span id="error-cred" class="textfield-error">@Html.ValidationMessage("InvalidCred")</span>

                        </div>

                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <label class="mdl-textfield__label" id="sample4" asp-for="Password"></label>
                            <input class="mdl-textfield__input" for="sample4" type="password" asp-for="Password" autocomplete="off">
                            <span class="textfield-error" asp-validation-for="Password" data-valmsg-replace="true"></span>

                        </div>
                        <button id="login-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"
                                tabindex="1" name="button" value="login">
                            Login
                        </button>
                        @*<button id="forget-button" class="mdl-button forget-button mdl-js-button mdl-button--primary"
                               tabindex="2" name="button"
                                value="forget">
                            Forgot your password?
                        </button>*@
                        @if (Model.AllowRememberLogin)
                        {
        <div class="form-group" hidden>
            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect mdl-switch--accent remember-login" for="switch-1" asp-for="RememberLogin">
                <input type="checkbox" id="switch-1" class="mdl-switch__input" checked asp-for="RememberLogin">
                <span class="mdl-switch__label">Remember My Login</span>
            </label>
        </div>}

                    <div class="login-button-wrap">
                        <!-- Accent-colored raised button with ripple -->
                        @*<button id="login-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"
                tabindex="1" name="button" value="login">
            Login
        </button>*@
                        <!-- Accent-colored flat button -->
                        <button id="forget-button" class="mdl-button forget-button mdl-js-button mdl-button--primary"
                                tabindex="2" name="button"
                                value="forget">
                            Forgot your password?
                        </button>
                        <button id="cancel-button" class="mdl-button mdl-js-button mdl-button--primary"
                                name="button" value="cancel">
                            Cancel
                        </button>


                        <button id="create-button" class="mdl-button mdl-js-button mdl-button--primary"
                                name="button"
                                value="create">
                            Create Account
                        </button>
                    </div>
                    </form>

                </div>}



    @if (!Model.EnableLocalLogin && !Model.VisibleExternalProviders.Any())
    {
<div class="alert alert-warning">
    <strong>Invalid login request</strong>
    There are no login schemes configured for this request.
</div>}
</div>

<script src="~/js/login.js" defer></script>

